"""切片"""
import tensorflow as tf
import  numpy as np
a=tf.range(10)
print(a)
"""
   value：   [0 1 2 3 4 5 6 7 8  9]
   index:    0  1                9
   index:   -9              -2  -1
"""
"""
切片说明
a[A:B] 取a中A位置到B-1位置的值
a[A:]  B没写表示从A取到末尾
a[:B]  A没写表示从0位置取到B-1

切片是不会返回标量的
"""
print(a[-1:])
"""
tf.Tensor([9], shape=(1,), dtype=int32)
显然是取最后一个数9  但是返回的是[9]而不是标量9
"""
"""==================================================="""
"""多维度切片"""
b=tf.random.normal([4,5,5,3])
print(b[0,:,:,:].shape)
"""(5, 5, 3)
第0个数据中的所有维度都取
"""
print(b[0,:1,:,:].shape)
print(b[0,:1,:,:])
"""
(1, 5, 3)
[[[-1.0879359   1.3420862   0.63428897]
  [-0.8625306   0.7578596  -0.49115258]
  [ 0.9846397   0.96714306 -0.5706647 ]
  [ 0.04867029 -0.20017825 -0.02646627]
  [ 0.26216507 -0.01899002 -0.16210678]]], shape=(1, 5, 3), dtype=float32)
第0个数据中,第一层后面的所有维度
"""
print(b[:,:,:,0])
"""
tf.Tensor(
[[[-1.1744369   0.5005583   0.4390489   0.6703192  -0.63499206]
  [-0.22330523  0.7301791  -1.2362467  -0.4343094   1.0074246 ]
  [-2.341985   -1.8511037  -0.01412501  0.43701738  1.1813382 ]
  [-0.2910104  -0.11935636  0.23746258 -1.7513442  -0.31098908]
  [ 0.41681677 -0.5286119  -0.24632487 -1.8680321   1.1073196 ]]

 [[ 1.8062308  -0.576922    0.5267203  -0.39628652 -0.8639509 ]
  [ 0.04503699 -2.9058905   0.77981025 -1.9944226  -0.7498681 ]
  [ 0.47523707  0.7012545  -1.4104009   0.4943808  -1.9644896 ]
  [ 0.74683356  0.98775744 -1.6244066  -1.2520174   0.7651571 ]
  [ 0.93719006 -1.5120378  -0.80785626 -1.3401058   0.53146654]]

 [[-0.48123485  0.5846325   1.074556    0.57941204  1.6326561 ]
  [ 0.15394995  0.01465171  0.4407396   0.73588157 -0.46319282]
  [ 1.4574034  -0.54891396 -0.16190884 -2.34001    -0.9809293 ]
  [ 0.6032031   0.96316    -0.08221621  0.67325085  0.7621373 ]
  [ 0.17265433  0.71149933  2.024268   -0.6809488   0.64519465]]

 [[-1.7342489   1.9811518   0.8394401  -0.44131964 -0.36411765]
  [ 0.45226172 -0.16434075  0.58162755  0.6645599   0.3271643 ]
  [ 0.5604028   0.51161057  0.24643968  0.14291765 -2.4100785 ]
  [ 0.24447921 -0.39932355 -0.62604195 -1.1452175  -1.5530772 ]
  [ 0.8812471   0.33335245  1.193094    0.265452    1.0114596 ]]], shape=(4, 5, 5), dtype=float32)
"""
"""=============================================="""
"""设定步数的切片"""
print(b[:,0:2:3,:,:])
"""表示在第二个维度上，切取0-2但是步长为3 """
print(b[:,::3,:,:])
"""表示在第二个维度上，切取全部但是步长为3 """
"""倒序功能"""
c=tf.range(5)
print(c)
"""
tf.Tensor([0 1 2 3 4], shape=(5,), dtype=int32)
"""
print(c[::-1])
"""
表示从后向前切片步长为1
tf.Tensor([4 3 2 1 0], shape=(5,), dtype=int32)
"""
print(c[::-2])
"""
表示从后向前切片步长为2
tf.Tensor([4 2 0], shape=(3,), dtype=int32)
"""
print(c[2::-2])
"""
从index2开始倒着切片步长为2
tf.Tensor([2 0], shape=(2,), dtype=int32)
"""
"""================================================"""
"""  ...的使用 """
d=tf.random.normal([2,4,28,28,3])
print(d[0,:,:,:,:].shape)
"""此时就可以写成 d[0,...]"""
print(d[0,...].shape)
"""
(4, 28, 28, 3)
(4, 28, 28, 3)
"""

print(d[:,:,:,:,0].shape)
"""此时就可以写成 d[...,0]"""

print(d[0,...,2])
print(d[0,0,...,2])